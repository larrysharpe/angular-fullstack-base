div(ng-controller='NavbarCtrl')
  div.navbar.navbar-default.navbar-fixed-top
    div.container
      div.navbar-header
        button.navbar-toggle(type='button', ng-click='isCollapsed = !isCollapsed')
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar
        a.navbar-brand(href='/')
          //span.txt-color-primary Come
          span.txt-color-primary Watch
          span.txt-color-secondary Live
          span.txt-color-gray .com

      div#navbar-main.navbar-collapse.collapse(collapse='isCollapsed')
        ul.nav.navbar-nav
          li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/signup")}')
            a(href='/signup') Join for free!
          li(ng-show='!hasRole(["broadcaster","broadcaster applicant", "broadcaster denied", "admin"])', ng-class='{active: isActive("/broadcasterSignup")}')
            a(href='/broadcasterSignup', ng-hide='isLoggedIn()') Broadcast Yourself
            a(href='', ng-click="broadcasterSetup()", ng-show='isLoggedIn()') Broadcast Yourself
          li(ng-show='hasRole(["broadcaster","broadcaster applicant", "broadcaster denied"])', ng-class='{active: isActive("/dashboard")}')
            a(href='/dashboard') Dashboard
          li(ng-show='hasRole("broadcaster")', ng-class='{active: isActive("/broadcast")}')
            a(href='/broadcast') Broadcast
          li(ng-show='hasRole("admin")', ng-class='{active: isActive("/admin")}')
            a(href='/admin') Admin

        ul.nav.navbar-nav.navbar-right
          li
            a Hello {{ user.username }}

          li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/login")}')
            a(href='/login') Login

          li(ng-show='isLoggedIn() && user.faves.length && !hasRole("admin")', ng-class='{active: isActive("/account/faves")}')
            a(href="/account/faves", title="{{faves.online.length}} Online, {{faves.total}} Total.")
              span.fa.fa-heart
              span.badge.badge-danger {{faves.online.length}}

          li(ng-show='isLoggedIn()', ng-class='{active: isActive("/account/balance")}')
            a(href='/account/balance', title='Balance')
              span.fa.fa-money

          li(ng-show='isLoggedIn()', ng-class='{active: isActive("/account")}')
            a(href='/account', title='Account')
              span.glyphicon.glyphicon-cog

          li(ng-show='isLoggedIn()', ng-class='{active: isActive("/account/pics")}')
            a(href='/account/pics', title='Settings')
              i.fa.fa-photo

          li(ng-show='isLoggedIn()', ng-class='{active: isActive("/logout")}')
            a(href='', ng-click='logout()', title='Logout') Logout

    div(ng-if="isLoggedIn()")
      .text-center(ng-if="showEmailNotConfirmed()") Your email has not been confirmed.
        a(href="", ng-click="resendVerification()") Resend Confirmation
      .text-center(ng-if="showConfirmationSent()") Your confirmation has been resent to {{user.email}}.

    div(flash-message="10000")
